产品需求文档 (PRD)：游戏海外客服 AI 助手 (Jp-Linker)
项目版本： v1.0

产品形态： Windows 桌面应用程序

核心技术： Google Gemini 2.0 Pro (Multimodal) + 本地文本解析

1. 项目概述
1.1 背景
针对日本市场游戏运营，客服人员需处理大量复杂的日语咨询。目前存在人工翻译不地道、敬语使用难、内部知识库检索慢、频繁切换窗口等效率瓶颈。

1.2 目标
通过一个集“截屏、多模态识别、本地知识库注入、双向实时翻译”于一体的桌面工具，实现客服工作的闭环，提升回复准确度与地道性。

2. 功能详细说明
2.1 截屏与多模态识别 (OCR & Perception)
功能描述： 使用快捷键（默认 Alt + Q）唤起截屏，框选屏幕上的玩家提问。

交互逻辑：

用户截屏后，图片自动上传至 Gemini 2.0 Pro。

AI 处理： 自动识别图片中的日语文本，并将其翻译为中文展示在左侧面板。

智能分类： AI 自动提取玩家问题的核心意图（如：账号丢失、充值异常、游戏建议）。

2.2 本地知识库加载 (Local Context Injection)
功能描述： 软件无需复杂的数据库部署，直接读取本地文件作为 AI 的参考背景。

实现方式：

用户在设置中指定一个文件夹路径。

软件读取路径下的 Excel (.xlsx) 或 Word (.docx) 文件。

注入逻辑： 将表格内容转化为文本，随每次请求发送给 Gemini 接口。

热更新： 软件提供“刷新”按钮，用户修改本地 Excel 存盘后，点击刷新即可让 AI 获得最新数据。

2.3 双向实时翻译 (Bi-directional Real-time Sync)
功能描述： 客服在中文输入框输入回复时，日文框实时显示翻译结果。

核心细节：

流式输出： 采用 Server-Sent Events (SSE)，实现日文逐字跳动显示。

上下文耦合： 翻译过程强制参考 [本地知识库内容] 和 [玩家截屏问题]，确保术语一致（如游戏道具名）。

实时修正： 客服修改中间任何一个中文字符，右侧日文相应部分应快速更新。

2.4 语气/敬语控制器 (Tone Controller)
功能描述： 提供 UI 快速切换按钮，调整 AI 生成日文的语感。

档位设定：

丁寧 (标准)： 适用于大部分常规沟通。

謙譲 (正式)： 适用于重大 Bug 致歉、充值争议处理。

親密 (友好)： 适用于官方推特回复或轻松的游戏活动解释。

3. 界面设计 (UI/UX)
窗口形态： 采用“窄长型”置顶悬浮窗，可根据需要停靠在屏幕侧边。

主界面构成：

顶部： 截图按钮、敬语模式切换（下拉菜单）、本地知识库状态（绿灯表示已加载）。

左区（玩家端）： 自动显示截屏识别出的【日语原文】及【中文释义】。

右区（客服端）： * 上层：中文输入框（提示语：请输入回复要点...）。

下层：日文预览框（带有一键复制按钮）。

底部： 引用来源提示（显示 AI 参考了知识库中的哪一行数据）。

4. 非功能性需求
性能要求：

截图上传到识别结果出现的延迟 < 1.5s。

输入中文到日文开始输出的延迟 < 500ms。

安全性： * Gemini API Key 需加密存储在本地。

本地知识库数据不上传至除 Google API 以外的任何第三方服务器。

离线处理： 当无网络连接时，界面应有明确的断网提示。

5. 关键 Prompt 逻辑 (供开发参考)
Role: 你是一名资深的日本游戏客服专家，精通中日互译。 Context: > 1. 玩家问题截图内容：{{ocr_text}} 2. 内部知识库参考：{{local_kb_text}} Task: 请将客服输入的中文翻译为地道的日文。 Constraint: 必须使用{{tone_setting}}语气，必须严格使用知识库中的名词术语，若知识库未提及则保持翻译的地道性。

6. 后续规划 (Roadmap)
v1.1: 增加常用话术（快捷语）点击直接填入功能。

v1.2: 增加回复历史记录，支持对 AI 翻译质量进行简单打分（用于优化 Prompt）。